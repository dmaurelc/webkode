---
import Label from "./ui/Label.astro";
import Input from "./ui/Input.astro";
import Combobox from "./ui/Combobox.astro";
import Textarea from "./ui/Textarea.astro";
import Button from "./ui/Button.astro";

const serviceOptions = [
  { value: "web", label: "Desarrollo Web" },
  { value: "ecommerce", label: "Ecommerce" },
  { value: "directorio", label: "Directorio Web" },
  { value: "plugin", label: "Plugin CMS" },
  { value: "webapp", label: "Aplicación Web" },
  { value: "otro", label: "Otro proyecto a medida" },
];
---

<section
  class="bg-black py-32 px-4 md:px-8 border-t border-brand-border/30 relative overflow-hidden"
  id="contacto"
>
  <div class="max-w-4xl mx-auto relative z-10">
    <!-- Header -->
    <div class="text-center mb-16 space-y-6">
      <div class="flex items-center justify-center gap-3">
        <div class="w-8 h-px bg-accent"></div>
        <span
          class="text-[9px] font-black tracking-[0.4em] uppercase text-brand-muted"
          >Contacto</span
        >
        <div class="w-8 h-px bg-accent"></div>
      </div>

      <h2
        class="text-4xl md:text-6xl font-bold tracking-tighter text-white uppercase leading-[0.9]"
      >
        Iniciar <span class="text-accent">Proyecto.</span>
      </h2>

      <p
        class="text-zinc-500 font-sans text-xs uppercase tracking-widest max-w-md mx-auto"
      >
        Cuéntanos sobre tu visión y construyamos algo extraordinario juntos.
      </p>
    </div>

    <!-- Architectural Form -->
    <div class="border border-white/10 bg-black/50 backdrop-blur-sm">
      <form
        action="https://api.web3forms.com/submit"
        method="POST"
        class="grid grid-cols-1 md:grid-cols-2"
      >
        <!-- Web3Forms Config -->
        <input
          type="hidden"
          name="access_key"
          value="2a3feaee-c6b5-47fb-9fa5-88e28ee0dfd9"
        />
        <input
          type="hidden"
          name="redirect"
          value="https://webkode.cl/thanks"
        />
        <input
          type="hidden"
          name="subject"
          value="Nueva Solicitud de Proyecto - Webkode"
        />
        <input type="hidden" name="from_name" value="Webkode Contact Form" />
        <input
          type="checkbox"
          name="botcheck"
          class="hidden"
          style="display: none;"
        />

        <!-- Name -->
        <div
          class="p-6 md:p-8 border-b border-white/10 md:border-r group hover:bg-white/2 transition-colors"
        >
          <Label for="v3-name" required>01. Nombre</Label>
          <Input
            id="v3-name"
            name="name"
            placeholder="Ej. Juan Pérez"
            required
          />
        </div>

        <!-- Email -->
        <div
          class="p-6 md:p-8 border-b border-white/10 group hover:bg-white/2 transition-colors"
        >
          <Label for="v3-email" required>02. Email</Label>
          <Input
            type="email"
            id="v3-email"
            name="email"
            placeholder="hola@empresa.cl"
            required
          />
        </div>

        <!-- Phone -->
        <div
          class="p-6 md:p-8 border-b border-white/10 md:border-r group hover:bg-white/2 transition-colors"
        >
          <Label for="v3-phone">03. Teléfono</Label>
          <Input
            type="tel"
            id="v3-phone"
            name="phone"
            placeholder="+56 9 ..."
          />
        </div>

        <!-- Service -->
        <div
          class="p-6 md:p-8 border-b border-white/10 group hover:bg-white/2 transition-colors"
        >
          <Label for="v3-service" required>04. Servicio</Label>
          <Combobox
            id="v3-service"
            name="service"
            required
            options={serviceOptions}
            placeholder="Seleccionar..."
          />
        </div>

        <!-- Message -->
        <div
          class="col-span-1 md:col-span-2 p-6 md:p-8 border-b border-white/10 group hover:bg-white/2 transition-colors"
        >
          <Label for="v3-message" required>05. Detalles</Label>
          <Textarea
            id="v3-message"
            name="message"
            rows="5"
            placeholder="Describe tu visión y requerimientos técnicos..."
            required
          />
        </div>

        <!-- Submit Area -->
        <div
          class="col-span-1 md:col-span-2 p-6 md:p-8 flex flex-col md:flex-row justify-between items-center gap-6 bg-zinc-900/30"
        >
          <div class="flex items-center gap-4 text-brand-muted">
            <div class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse">
            </div>
            <span
              class="text-[10px] font-sans uppercase tracking-widest text-zinc-500"
              >Disponibilidad Inmediata</span
            >
          </div>
          <Button type="submit" class="w-full md:w-auto">
            <span>Enviar Solicitud</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="3"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="group-hover:translate-x-1 transition-transform"
              ><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg
            >
          </Button>
        </div>
      </form>
    </div>
  </div>
</section>
